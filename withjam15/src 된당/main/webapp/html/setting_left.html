<style>

.setting-header{

  width: 100%;
  height: 63px;
  border-bottom: #1e1e1e 1px solid;
   
}

.setting-icon-div{
  width: 40px;
  height: 40px;
}

.setting-icon-div>img{
  width: 100%;
  height: 100%;
}


.setting-center{
  width: 100%;
  height: 160px;
  border-bottom: #1e1e1e 1px solid;
  border-top: 1px solid #585858;
  overflow: auto;
  overflow-x:none;
  overflow-y:none;
}

.for-upload-photo-div{
  width: 50%;
  height: 100%;
  border-right: #1e1e1e 1px solid;
  float: left;
}

.for-upload-photo-div>img{
  width: 80%;
  height: 80%;
}

.for-upload-photo-label{
  width: 48%;
  height: 100%;
  border-left: 1px solid #585858;
   float: left;
}

.for-comment-update{
  width: 80%;
  margin-left: 10%;
  margin-top: 10%;

}

.for-sttings-submit{
  
  margin-left: 79%;
  margin-top: 5%;
   
}


</style>



<form id="my-info-update" action="../json/member/updateMyInfo.do" method="post" enctype="multipart/form-data">
<div class='setting-header'>
   <div class='setting-icon-div'><img src='../img/setting-w.png'></div> 
   회원님의 소중한 정보를 변경하는 공간입니다.
</div>
<div class='setting-center'>

  <div class='for-upload-photo-div'><input type="file" class='for-view-photo-input' name='myPhoto'>
  <img class='for-view-photo'></div>
  <div class='for-upload-photo-label'>
    <br><br><br>회원님의 사진을 <br>
    업로드 하는 공간입니다.<br>
  </div>
  
</div>

<div class='setting-bottom'>
   <p>회원님에 대한 간단한 소개를 남겨주세요.</p>
   <textarea rows="" cols="" class='for-comment-update' name='comment'></textarea>
   <input type="submit" value="등록" class='for-sttings-submit'>
</div> 
</form>



<script>

$('#my-info-update').ajaxForm({
	       
	            beforeSubmit: function (data, frm, opt) {
	                            alert("전송전!!");
	                            return true;
	                          },
	            
	            success: function(responseText, statusText){
	                alert("전송성공!!");
	            } ,
	            
	            error: function(){
	                alert("에러발생!!");
	            }                               
	          });


$(document).ready(function(){
	
	
	
	
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader(); //파일을 읽기 위한 FileReader객체 생성
            reader.onload = function (e) {
            //파일 읽어들이기를 성공했을때 호출되는 이벤트 핸들러
                $('.for-view-photo').attr('src', e.target.result);
                //이미지 Tag의 SRC속성에 읽어들인 File내용을 지정
                //(아래 코드에서 읽어들인 dataURL형식)
            }                   
            reader.readAsDataURL(input.files[0]);
            //File내용을 읽어 dataURL형식의 문자열로 저장
        }
    }//readURL()--

    //file 양식으로 이미지를 선택(값이 변경) 되었을때 처리하는 코드
    $(".for-view-photo-input").change(function(){
        //alert(this.value); //선택한 이미지 경로 표시
        readURL(this);
    }); 
    
    
    
    
 });


</script>

